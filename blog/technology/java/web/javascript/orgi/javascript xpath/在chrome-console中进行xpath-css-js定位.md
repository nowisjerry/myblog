# 在chrome-console中进行xpath-css-js定位

2019-09-21 12:42:20 

## 一、Xpath

console中调用xpath的基本格式：`$x("xpath表达式")`

### 1.1 绝对定位与相对定位

- 绝对定位：`$x("/xpath表达式")`
- 相对定位：`$x("//xpath表达式")`

![在这里插入图片描述](image-202006211444/20190920193534246.png)

![在这里插入图片描述](image-202006211444/20190920193546804.png)

### 1.2 通配符与不包含筛选

属性@
![在这里插入图片描述](image-202006211444/20190920193737944.png)
通配符*
![在这里插入图片描述](image-202006211444/20190920193750178.png)
不包含not()
![在这里插入图片描述](image-202006211444/20190920193802990.png)
包含contains()
![在这里插入图片描述](image-202006211444/2019092019382860.png)

### 1.3 Xpath函数运算的简单实用

注意：xpath函数有很多，这里只是列举了一些简单的函数，若查看其他函数，请看xpath官方文档；

定位时去除空格
例：

![在这里插入图片描述](image-202006211444/20190920193904257.png)
![在这里插入图片描述](image-202006211444/20190920193921566.png)
![在这里插入图片描述](image-202006211444/20190920193933863.png)
去除空格

![在这里插入图片描述](image-202006211444/20190920193959365.png)
统计元素个数
例：统计行数为2行的元素个数

![在这里插入图片描述](image-202006211444/20190920194021883.png)
![在这里插入图片描述](image-202006211444/20190920194033257.png)
![在这里插入图片描述](image-202006211444/2019092019404576.png)

筛选name以dl开头：starts-with(name(), ‘dl’)
筛选字符串长度等于2的：string-lenth(name())=2

### 1.4 各种亲戚标签的定位

父标签parent::
比如定位div父标签parent::div
![在这里插入图片描述](image-202006211444/2019092019412624.png)
![在这里插入图片描述](image-202006211444/20190920194136417.png)

子标签child

哥哥标签preceding-sibling::
![在这里插入图片描述](image-202006211444/20190920194207569.png)
弟弟标签following-sibling::
![在这里插入图片描述](image-202006211444/20190920194219179.png)
后代标签descendant::

![在这里插入图片描述](image-202006211444/20190920194241333.png)
![在这里插入图片描述](image-202006211444/20190920194313802.png)
祖先标签ancestor::
![在这里插入图片描述](image-202006211444/20190920194326135.png)

## 二、css选择器

### 2.1 基本格式

console中调用css的基本格式：`$("css表达式")`或者`$$("css表达式")`
谷歌插件：SelectorGadget

### 2.2 常用符号

.点，代表每个标签class的属性为xx
![在这里插入图片描述](image-202006211444/20190920194521621.png)
![在这里插入图片描述](image-202006211444/20190920194533912.png)

\#，代表整个标签中有个元素的id为xx
![在这里插入图片描述](image-202006211444/20190920194545785.png)
![在这里插入图片描述](image-202006211444/2019092019455871.png)

,逗号，代表谁和谁
![在这里插入图片描述](image-202006211444/20190920194610289.png)
空格，代表所有的后代标签
![在这里插入图片描述](image-202006211444/20190920194623542.png)
`>`大于号，代表所有的儿子标签，不包括孙子标签

![在这里插入图片描述](image-202006211444/20190920194651278.png)
![在这里插入图片描述](image-202006211444/20190920194817834.png)

### 2.3 CSS选择器的属性筛选

属性筛选
![在这里插入图片描述](image-202006211444/20190920194831771.png)

![在这里插入图片描述](image-202006211444/20190920194907813.png)
区别：xpath中带@，css中不带@

属性中带空格怎么筛选？
![在这里插入图片描述](image-202006211444/20190920194923330.png)

![在这里插入图片描述](image-202006211444/20190920194934156.png)

区别：xpath中class带空格直接写空格，css中用.点代替

包含某些字符的属性怎么筛选？

![在这里插入图片描述](image-202006211444/2019092019494770.png)

以某些字符开头的属性怎么筛选？
![在这里插入图片描述](image-202006211444/20190920195000802.png)

## 三、js定位

console里面执行javascript代码，操作dom对象。

每个载入浏览器的 HTML 文档都会成为 Document 对象。Document 对象使我们可以从脚本中对 HTML 页面中的所有元素进行访问。
![在这里插入图片描述](image-202006211444/20190920210959790.png)

1. 通过id获取
   document.getElementById(“id”)
2. 通过name获取
   document.getElementsByName(“Name”) 返回的是list
3. 通过标签名选取元素
   document.getElementsByTagName(“tag”)
4. 通过CLASS类选取元素
   document.getElementsByClassName(“class”)
   兼容性：IE8及其以下版本的浏览器未实现getElementsByClassName方法
5. 通过CSS选择器选取元素
   document.querySelectorAll(“css selector")
   兼容性：IE8及其以下版本的浏览器只支持CSS2标准的选择器语法
   ![在这里插入图片描述](image-202006211444/20190920195135274.png)

【举例代码】

```python
js = 'document.getElementById("helloId").click();'

driver.execute_script(js)
```





https://blog.csdn.net/jamieblue1/article/details/101075193